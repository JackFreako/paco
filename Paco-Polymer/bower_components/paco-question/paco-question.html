<link rel="import" href="../polymer/polymer.html">

<!--
A container to hold a gplus post.

##### Example

    <paco-question></paco-question>

@element paco-question
@blurb A container to hold a gplus post.
@status alpha
@url github.io
-->

<polymer-element name="paco-question" attributes="choices questionId value condition">
  <template>
    <link href="paco-question.css" rel="stylesheet" />
    <!--  Condition: {{condition}} -->
    
    <div id="content" visible="{{condition}}">
      [{{condition}}] Question {{questionId}}:
      <template repeat="{{ choice in choiceArray }}" >
        <label>
          <input type="radio" name="likert_{{questionId}}" value="{{choice}}" on-click="{{radioChanged}}">
          {{choice}}
        </label>
      </template>
    </div>
  </template>
  <script>
    Polymer('paco-question', {
      condition: true,
      choiceArray: [1,2,3,4,5],
      ready: function() {
        
      },
      choicesChanged: function(oldVal, newVal) {
        this.choiceArray = JSON.parse(newVal);
      },
      radioChanged: function() {
        var radio = this.$.content.querySelector('input[type=radio]:checked');
        console.log(radio);
        this.value = radio.value;
      }
    });
  </script>
</polymer-element>
